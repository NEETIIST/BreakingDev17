<template name="adminPanel">
	
	{{#if isInRole 'admin'}}
		{{#if Template.subscriptionsReady}}

			<div class="row justify-content-center align-items-center f-black m-0 py-3 white vh-100 hidden-md-down" id="nav-mid">
				<div class="col-10 col-md-2">
					<div class="row justify-content-center align-items-center">
						<div class="col-12 col-md-12">
							<div class="row align-items-center text-left hvr-items cp" id="ap_stats">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-bar-chart fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap-stats"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="ap_user-list">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-user fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap_user-list"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="ap_team-list">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-users fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap_team-list"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="ap_payments">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-credit-card fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap-payments"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="ap_volunteers">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-child fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap-volunteers"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="ap_alerts">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-exclamation fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ap-alerts"}}</span>
								</div>
							</div>
							<div class="row align-items-center text-left hvr-items cp" id="logout">
								<div class="col-3">
									<i class="fa fs-4 py-2 fa-sign-out fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col-9">
									<span class="fw-3 fs-2 flh-2">{{_ "ud_logout"}}</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-10 col-md-1 white"></div>
				<div class="col-10 col-md-8 align-self-start">
					<div class="spacer-4"></div>
					{{> Template.dynamic template=dash_small}}
				</div>
			</div>
			<div class="row justify-content-center align-items-start f-black m-0 py-3 white vh-100 hidden-lg-up" id="nav-mid">
				<div class="col-12">
					<div class="row justify-content-center align-items-center m-0">
						<div class="col-12">
							<div class="spacer-2"></div>
							<div class="row text-center f-black">
								<div class="col px-1" id="ap_stats">
									<i class="fa fs-5 py-2 fa-bar-chart fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="ap_user-list">
									<i class="fa fs-5 py-2 fa-user fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="ap_team-list">
									<i class="fa fs-5 py-2 fa-users fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="ap_payments">
									<i class="fa fs-5 py-2 fa-credit-card fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="ap_volunteers">
									<i class="fa fs-5 py-2 fa-child fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="ap_alerts">
									<i class="fa fs-5 py-2 fa-exclamation fa-fw" aria-hidden="true"></i>
								</div>
								<div class="col px-1" id="logout">
									<i class="fa fs-5 py-2 fa-sign-out fa-fw" aria-hidden="true"></i>
								</div>
							</div>
							<hr class="orange">
						</div>
					</div>
					<div class="row justify-content-center align-items-start m-0">
						<div class="col-12 col-md-8 align-self-start">
							<div class="spacer-4"></div>
							{{> Template.dynamic template=dash_small}}
						</div>
					</div>
				</div>
			</div>
		{{else}}
			<div class="row justify-content-center align-items-center text-center m-0 white f-black vh-100">
				<div class="col-12 text-center">
					<i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>
					<p>{{_ "loading"}}</p>
				</div>
			</div>
		{{/if}}
	{{/if}}

</template>

<template name="ap_stats">
	<div class="row justify-content-center align-items-center text-center m-0">
		<div class="col-10 col-md-4 hvr-items" title="{{_ 'ap-stats-1-info'}}">
			<span class="fw-3 fs-3">{{_ "ap-stats-1"}}</span>
			<p class="fw-3 fs-6">{{devsTotal}}</p>
		</div>
		<div class="col-10 col-md-4 hvr-items">
			<span class="fw-3 fs-3">{{_ "ap-stats-2"}}</span>
			<p class="fw-3 fs-6">{{teamsTotal}}</p>
		</div>
		<div class="col-10 col-md-4 hvr-items">
			<span class="fw-3 fs-3">{{_ "ap-stats-3"}}</span>
			<p class="fw-3 fs-6">{{volTotal}}</p>
		</div>
	</div>
</template>

<template name="ap_user_list">
	<p>{{_ "ap-ul"}}</p>
	<div class="table-responsive">
		<table class="table table-hover table-sm fw-3 fs-2">
			<thead>
				<tr>
					<th>{{_ "ap-ul-username"}}</th>
					<th>{{_ "ap-ul-name"}}</th>
					<th>{{_ "ap-ul-team"}}</th>
					<th>{{_ "ap-ul-validated"}}</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{{#each devs}}		
					<tr>
						<td>@{{username}}</td>
						<td>{{name}}</td>
						{{#if volunteer}}
							<td>{{_ "ap-ul-volunteer"}}</td>
						{{else}}
							{{#if inTeam}}
								<td>{{teamName}}</td>
							{{else}}
								<td>-</td>
							{{/if}}
						{{/if}}
						<td>
							{{#if validated}}
									<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{else}}	
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
							{{/if}}
						</td>
						<td><i class="fa fa-search fa-fw f-black cp focus" aria-hidden="true"></i></td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
</template>

<template name="ap_user_focus">
	{{#each focus}}
		<img src="{{profilePic}}" alt="Profile Picture" class="user-pic">
		<div class="spacer-4"></div>
		<div class="table-responsive">
			<table class="table table-sm fw-3 fs-2">
				<tbody>
					<tr>
						<td class="vwf-20">{{_ "ap-ul-username"}}</td>
						<td>@{{username}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-ul-name"}}</td>
						<td>{{name}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-age"}}</td>
						<td>{{age}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-college"}}</td>
						<td>{{college}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-course"}}</td>
						<td>{{course}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-skills"}}</td>
						<td>{{skills}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-ul-team"}}</td>
						{{#if volunteer}}
							<td>
								{{_ "ap-ul-volunteer"}}
								{{#if pending}}
									<i class="fa fs-3 fa-exclamation-triangle f-yellow fa-fw" aria-hidden="true"></i>
								{{/if}}
								{{#if accepted}}
									<i class="fa fs-3 fa-check-circle f-green fa-fw" aria-hidden="true"></i>
								{{/if}}
								{{#if refused}}
									<i class="fa fs-3 fa-times-circle f-red fa-fw" aria-hidden="true"></i>
								{{/if}}
							</td>
						{{else}}
							{{#if inTeam}}
								<td>{{teamName}}</td>
							{{else}}
								<td>-</td>
							{{/if}}
						{{/if}}
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-email"}}</td>
						<td>{{email}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-ul-validated"}}</td>
						<td>
							{{#if validated}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{else}}	
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
							{{/if}}
						</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-uf-payment"}}</td>
						<td>
							{{#if payment}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{else}}	
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
							{{/if}}
						</td>
					</tr>
					{{#if volunteer}}
						<tr>
							<td class="vwf-20">{{_ "ap-uf-vol-motiv"}}</td>
							<td>{{motivation}}</td>
						</tr>
						<tr>
							<td class="vwf-20">{{_ "ap-uf-vol-exp"}}</td>
							<td>{{experience}}</td>
						</tr>
					{{/if}}
				</tbody>
			</table>
			<div class="row m-0 text-left text-md-center">
				<div class="col my-1 px-0">
					{{#if volunteer}}
						{{#if pending}}
							<button type="button" class="btn btn-success fw-3 fs-2 f-inherit my-1" id="volunteer-true">{{_ "ap-uf-vol-true"}}</button>
							<button type="button" class="btn btn-danger fw-3 fs-2 f-inherit my-1" id="volunteer-false">{{_ "ap-uf-vol-false"}}</button>
						{{/if}}
						{{#if accepted}}
							<button type="button" class="btn btn-danger fw-3 fs-2 f-inherit my-1" id="volunteer-false">{{_ "ap-uf-vol-false"}}</button>
						{{/if}}
						{{#if refused}}
							<button type="button" class="btn btn-success fw-3 fs-2 f-inherit my-1" id="volunteer-true">{{_ "ap-uf-vol-true"}}</button>
						{{/if}}
					{{else}}
						{{#if payment}}
							<button type="button" class="btn btn-danger fw-3 fs-2 f-inherit my-1" id="not-pay">{{_ "ap-uf-not-pay"}}</button>
						{{else}}
							<button type="button" class="btn btn-success fw-3 fs-2 f-inherit my-1" id="pay">{{_ "ap-uf-pay"}}</button>
						{{/if}}
					{{/if}}
				</div>
				<div class="col my-1 px-0">
					{{#if admin}}
						<button type="button" class="btn btn-danger fw-3 fs-2 f-inherit my-1" id="not-admin">{{_ "ap-uf-not-admin"}}</button>
					{{else}}
						<button type="button" class="btn btn-warning fw-3 fs-2 f-inherit my-1" id="make-admin">{{_ "ap-uf-admin"}}</button>
					{{/if}}
				</div>
				<div class="spacer-8"></div>
			</div>
		</div>
	{{/each}}
</template>

<template name="ap_team_list">
	<p>{{_ "ap-tl"}}</p>
	<div class="table-responsive">
		<table class="table table-hover table-sm fw-3 fs-2">
			<thead>
				<tr>
					<th>{{_ "ap-tl-category"}}</th>
					<th>{{_ "ap-tl-teamname"}}</th>
					<th>{{_ "ap-tl-projectname"}}</th>
					<th>{{_ "ap-tl-captain"}}</th>
					<th>{{_ "ap-tl-members"}}</th>
					<th>{{_ "ap-tl-validated"}}</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{{#each teams}}		
					<tr>
						<td>{{category}}</td>
						<td>{{team_name}}</td>
						<td>"{{project_name}}"</td>
						<td>@{{captainUser}}</td>
						<td>{{memberCount}}</td>
						<td>
							{{#if validated}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{else}}	
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
							{{/if}}
							{{#if pending}}
								<i class="fa fa-exclamation-triangle fa-fw f-yellow" aria-hidden="true"></i>
							{{/if}}
						</td>
						<td>
							<i class="fa fa-search fa-fw f-black cp focus" aria-hidden="true"></i>
						</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
</template>

<template name="ap_team_focus">
	{{#each focus}}
		{{#if equals category "Web"}}
				<img src="/icons/WebAlt.png" alt="{{_ 'team_webdesc'}}" class="category-pic">
		{{/if}}
		{{#if equals category "Gaming"}}
			<img src="/icons/JogosAlt.png" alt="{{_ 'team_gamesdesc'}}" class="category-pic">
		{{/if}}
		<div class="spacer-4"></div>
		<div class="table-responsive">
			<table class="table table-sm fw-3 fs-2">
				<tbody>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-teamname"}}</td>
						<td>{{team_name}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-category"}}</td>
						<td>{{category}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-projectname"}}</td>
						<td>"{{project_name}}"</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tf-project"}}</td>
						<td>{{project}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tf-skills"}}</td>
						<td>{{skills}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-captain"}}</td>
						<td>@{{captainUser}}</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-members"}}</td>
						<td>
							{{#each memberList}}
								<span class="focus cp">@{{memberUser}} - </span>
							{{/each}}
						</td>
					</tr>
					<tr>
						<td class="vwf-20">{{_ "ap-tl-validated"}}</td>
						<td>
							{{#if validated}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{else}}	
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
								{{#if pending}}
									<i class="fa fa-exclamation-triangle fa-fw f-yellow" aria-hidden="true"></i>
								{{/if}}
							{{/if}}
							<span> - {{registrationTime}}</span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="spacer-2"></div>
		{{#if validated}}
			<button type="button" class="btn btn-danger fw-3 fs-2 f-inherit" id="not-validate">{{_ "ap-tf-not-validate"}}</button>
		{{else}}
			{{#if readyToValidate}}
				<button type="button" class="btn btn-success fw-3 fs-2 f-inherit" id="validate">{{_ "ap-tf-validate"}}</button>
			{{else}}
				<p class="fw-3 fs-2">{{_ "ap-tf-notready"}}</p>
			{{/if}}
		{{/if}}
		<div class="spacer-4"></div>
	{{/each}}
</template>

<template name="ap_alerts">
	<p>{{_ "ap-alerts"}}</p>
	<div class="table-responsive">
		<table class="table table-hover table-sm fw-3 fs-2">
			<thead>
				<tr>
					<th>{{_ "ap-al-text"}}</th>
					<th class="text-center">{{_ "ap-al-icon"}}</th>
					<th>{{_ "ap-al-url"}}</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{{#each alert}}
					<tr>
						<td>
							{{#if equals lang "pt"}}
								{{text_pt}}
							{{else}}
								{{text_en}}
							{{/if}}
						</td>
						<td class="text-center"><i class="fa fa-fw {{icon}}" aria-hidden="true" title="{{icon}}"></i></td>
						<td>{{url}}</td>
						<td class="text-center">
							{{#if display}}
								<i class="fa fa-toggle-on f-green cp" aria-hidden="true" id="toggleAlert" title="Visível"></i>
							{{else}}
								<i class="fa fa-toggle-off f-red cp" aria-hidden="true" id="toggleAlert" title="Escondido"></i>
							{{/if}}
						</td>
						<td class="text-center"><i class="fa fa-trash f-red cp" aria-hidden="true" id="deleteAlert" title="Apagar Alerta"></i></td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
	<hr class="orange my-3">
	<div class="row mx-0">
		<div class="col-12 col-md-6 mx-0">
			<p class="fw-3 fs-3 mb-1">{{_ "ap-al-add"}}</p>
			{{#autoForm collection=Alerts id="addAlert" type="insert"}}
				<div class="row mx-0">
					<div class="col-12 mx-0 px-0">
						{{> afFieldInput name='text_pt' placeholder="schemaLabel" autocomplete="off"}}
					</div>
				</div>
				<div class="row mx-0">
					<div class="col-12 mx-0 px-0">
						{{> afFieldInput name='text_en' placeholder="schemaLabel" autocomplete="off"}}
					</div>
				</div>
				<div class="row mx-0">
					<div class="col-11 mx-0 px-0">
						{{> afFieldInput name='icon' placeholder="schemaLabel" autocomplete="off"}}
					</div>
					<div class="col-1 mx-0 px-0 text-center">
						<a href="http://fontawesome.io/icons/" target="_blank"><i class="fa fs-2 fa-question cp" aria-hidden="true" title="Escrever o código do ícone, clique para a lista (ex: 'fa-check')" id="icon-list"></i></a>
					</div>
				</div>
				<div class="row mx-0">
					<div class="col-11 mx-0 px-0">
						{{> afFieldInput name='url' placeholder="schemaLabel" autocomplete="off"}}
					</div>
					<div class="col-1 mx-0 px-0 text-center">
						<i class="fa fs-2 fa-question cp" aria-hidden="true" title="Link para onde o alerta deve redirecionar, pode não ter nada"></i>
					</div>
				</div>
				<div class="row mx-0 justify-content-end">
					<div class="col-1 mx-0 px-0 text-center">
						<button type="submit" class="no-button"><i class="fa fa-check f-green cp" aria-hidden="true" title="Adicionar"></i></button>
					</div>
				</div>
			{{/autoForm}}
		</div>
		<div class="col-12 col-md-6">
			<span></span>
		</div>
	</div>

</template>

<template name="ap_payments">
	<p>{{_ "ap-payments"}}</p>
	<div class="table-responsive">
		<table class="table table-hover table-sm fw-3 fs-2">
			<thead>
				<tr>
					<th>{{_ "ap-ul-username"}}</th>
					<th></th>
					<th class="text-center">{{_ "ap-pay-date"}}</th>
					<th class="text-center">{{_ "ap-pay-state"}}</th>
					<th class="text-center">{{_ "ap-pay-actions"}}</th>
				</tr>
			</thead>
			<tbody>
				{{#each payment}}		
					<tr>
						<td>@{{username}}</td>
						<td><a href="{{picLink}}" target="_blank">{{_ "ap-pay-proof"}}</a></td>
						<td class="text-center">{{date}}</td>
						<td class="text-center">
							{{#if state}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true" title="{{_ 'ap-pay-state-true'}}"></i>
							{{else}}
								<i class="fa fa-times fa-fw f-red" aria-hidden="true" title="{{_ 'ap-pay-state-false'}}"></i>
							{{/if}}
						</td>
						<td class="text-center">
							{{#unless state}}
								<i class="fa fa-check-square-o fa-fw f-green cp" aria-hidden="true" title="{{_ 'ap-uf-pay'}}" id="pay"></i>
							{{/unless}}
							<i class="fa fa-trash fa-fw f-red cp" aria-hidden="true" title="{{_ 'ap-pay-delete'}}" id="delete"></i>
							<i class="fa fa-search fa-fw f-black cp focus" aria-hidden="true" title="{{_ 'ap-pay-user'}}"></i>
						</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
</template>

<template name="ap_volunteers">
	<p>{{_ "ap-volunteers"}}</p>
	<div class="table-responsive">
		<table class="table table-hover table-sm fw-3 fs-2">
			<thead>
				<tr>
					<th>{{_ "ap-ul-username"}}</th>
					<th>{{_ "ap-ul-name"}}</th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				{{#each volunteer}}		
					<tr>
						<td>@{{username}}</td>
						<td>{{name}}</td>
						<td>
							{{#if approved}}
								<i class="fa fa-check fa-fw f-green" aria-hidden="true"></i>
							{{/if}}
							{{#if pending}}
								<i class="fa fa-exclamation-triangle fa-fw f-yellow" aria-hidden="true"></i>
							{{/if}}
							{{#if rejected}}
								<i class="fa fa-times fa-fw f-red" aria-hidden="true"></i>
							{{/if}}
							
						</td>
						<td>
							<i class="fa fa-search fa-fw f-black cp focus" aria-hidden="true"></i>
						</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	</div>
</template>